<?xml version="1.0" encoding="UTF-8"?>
<document xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="https://modeler.netgrif.com/petriflow_schema.xsd">
	<id>service</id>
	<initials>servis</initials>
	<title>Servis</title>
	<defaultRole>true</defaultRole>
	<transitionRole>false</transitionRole>
	<!-- TRANSACTIONS -->
	<!-- ROLES -->
	<!-- DATA -->
	<data type="text">
		<id>car_vin</id>
		<title>VIN číslo auta</title>
		<action trigger="get">
			parentId: f.parent_id,
			vinToCheck: f.this;
			
			if(parentId.value != null){
				def carInstance = findCase( {it._id.eq(parentId.value)} )
				if( carInstance != null ){
					def newVin = carInstance.getFieldValue("vin")
					
					change vinToCheck value {
						newVin
					}
				}
				else {
					if(vinToCheck.value.contains("Záznam auta neexistuje") == false){
						change vinToCheck value {
							vinToCheck.value + " - Záznam auta neexistuje"
						}
					}					
				}				
			}	
		</action>
		<init>Servisný úkon nemá priradené vozidlo</init>
	</data>
	<data type="text">
		<id>car_plate_number</id>
		<title>EČV auta</title>
		<action trigger="get">
			parentId: f.parent_id,
			plate_num: f.this;
			
			if(parentId.value != null){
				def carInstance = findCase( {it._id.eq(parentId.value)} )
				if( carInstance != null ){
					def newPlateNumber = carInstance.getFieldValue("plate_number")
					
					change plate_num value {
						newPlateNumber
					}
				}
				else {
					if(plate_num.value.contains("Záznam auta neexistuje") == false){
						change plate_num value {
							plate_num.value + " - Záznam auta neexistuje"
						}
					}					
				}				
			}			
		</action>
		<init>Servisný úkon nemá priradené vozidlo</init>
	</data>
	<data type="text">
		<id>car_name</id>
		<title>Názov auta</title>
		<action trigger="get">
			parentId: f.parent_id,
			name: f.this;
			
			if(parentId.value != null){
				def carInstance = findCase( {it._id.eq(parentId.value)} )
				if( carInstance != null ){
					def newName = carInstance.getFieldValue("car_name")
					
					change name value {
						newName
					}
				}
				else {
					if(name.value.contains("Záznam auta neexistuje") == false){
						change name value {
							name.value + " - Záznam auta neexistuje"
						}
					}					
				}				
			}			
		</action>
		<init>Servisný úkon nemá priradené vozidlo</init>
	</data>
	<data type="text">
		<id>car_brand</id>
		<title>Značka auta</title>
		<action trigger="get">
			parentId: f.parent_id,
			brand: f.this;
			
			if(parentId.value != null){
				def carInstance = findCase( {it._id.eq(parentId.value)} )
				if( carInstance != null ){
					def newBrand = carInstance.getFieldValue("brand")
					
					change brand value {
						newBrand
					}
				}
				else {
					if(brand.value.contains("Záznam auta neexistuje") == false){
						change brand value {
							brand.value + " - Záznam auta neexistuje"
						}
					}					
				}				
			}			
		</action>
		<init>Servisný úkon nemá priradené vozidlo</init>
	</data>
	<data type="text">
		<id>car_model</id>
		<title>Model auta</title>
		<action trigger="get">
			parentId: f.parent_id,
			model: f.this;
			
			if(parentId.value != null){
				def carInstance = findCase( {it._id.eq(parentId.value)} )
				if( carInstance != null ){
					def newModel = carInstance.getFieldValue("model")
					
					change model value {
						newModel
					}
				}
				else {
					if(model.value.contains("Záznam auta neexistuje") == false){
						change model value {
							model.value + " - Záznam auta neexistuje"
						}
					}					
				}				
			}			
		</action>
		<init>Servisný úkon nemá priradené vozidlo</init>
	</data>
	<data type="taskRef">
		<id>car_taskRef</id>
		<title>Zobrazenie informácií o aute</title>
	</data>
	<data type="text">
		<id>task</id>
		<title>Úloha</title>
	</data>
	<data type="date">
		<id>deadline</id>
		<title>Konečný termín</title>
	</data>
	<data type="date">
		<id>start_date</id>
		<title>Dátum začatia</title>
	</data>
	<data type="date">
		<id>end_date</id>
		<title>Dátum ukončenia</title>
	</data>
	<data type="date">
		<id>change_date</id>
		<title>Dátum poslednej zmeny</title>
	</data>
	<data type="text">
		<id>status</id>
		<title>Stav</title>
	</data>
	<data type="user">
		<id>mechanic</id>
		<title>Mechanik</title>
	</data>
	<data type="text">
		<id>customer</id>
		<title>Zákazník</title>
	</data>
	<data type="text">
		<id>text_3</id>
		<title>Potvrdenie vymazania</title>
		<desc>vymazanie treba potvrdiť</desc>
		<init>Naozaj vymazať?</init>
	</data>
	<data type="text">
		<id>parent_id</id>
		<title>Car id</title>
	</data>
	<data type="text">
		<id>status_desc</id>
		<title>Popis</title>
	</data>
	<data type="enumeration">
		<id>act_success</id>
		<title>Úspešnosť úkonu</title>
		<values>Úkon úspešný</values>
		<values>Úkon neúspešný</values>
	</data>
	<!-- I18NS -->
	<!-- TRANSITIONS -->
	<transition>
		<id>9</id>
		<x>420</x>
		<y>340</y>
		<layout>
			<offset>0</offset>
		</layout>
		<label>Vytvorenie záznamu</label>
		<dataGroup>
			<id>DataGroup_1</id>
			<dataRef>
				<id>parent_id</id>
				<logic>
					<behavior>hidden</behavior>
				</logic>
				<layout>
					<x>0</x>
					<y>8</y>
					<rows>1</rows>
					<cols>1</cols>
					<offset>0</offset>
					<template>material</template>
					<appearance>outline</appearance>
				</layout>
			</dataRef>
			<dataRef>
				<id>car_taskRef</id>
				<logic>
					<behavior>visible</behavior>
				</logic>
				<layout>
					<x>0</x>
					<y>8</y>
					<rows>1</rows>
					<cols>1</cols>
					<offset>0</offset>
					<template>material</template>
					<appearance>outline</appearance>
				</layout>
			</dataRef>
		</dataGroup>
		<dataGroup>
			<id>DataGroup_0</id>
			<dataRef>
				<id>deadline</id>
				<logic>
					<behavior>editable</behavior>
					<behavior>required</behavior>
				</logic>
				<layout>
					<x>2</x>
					<y>9</y>
					<rows>1</rows>
					<cols>2</cols>
					<offset>0</offset>
					<template>material</template>
					<appearance>outline</appearance>
				</layout>
			</dataRef>
			<dataRef>
				<id>task</id>
				<logic>
					<behavior>editable</behavior>
					<behavior>required</behavior>
				</logic>
				<layout>
					<x>0</x>
					<y>1</y>
					<rows>2</rows>
					<cols>4</cols>
					<offset>0</offset>
					<template>material</template>
					<appearance>outline</appearance>
				</layout>
			</dataRef>
			<dataRef>
				<id>customer</id>
				<logic>
					<behavior>editable</behavior>
				</logic>
				<layout>
					<x>0</x>
					<y>3</y>
					<rows>1</rows>
					<cols>2</cols>
					<offset>0</offset>
					<template>material</template>
					<appearance>outline</appearance>
				</layout>
			</dataRef>
		</dataGroup>
		<event type="assign">
			<id>9_assign</id>
			<actions phase="pre">
				<action>	
					taskRef: f.car_taskRef,
					parentId: f.parent_id,
					thisTask: t.9;
					
					def taskToRef = findTask( {it.caseId.eq(useCase.stringId).and(it.transitionId.eq("72"))} )
					
					change taskRef value {
						[taskToRef.stringId];
					}					
					
					if(parentId.value == null){
						make taskRef, forbidden on thisTask when{ true }
					}
					else{
						make taskRef, visible on thisTask when{ true }
					}
				</action>			
			</actions>
		</event>
		<event type="finish">
			<id>9_finish</id>
			<actions phase="pre">
				<action>
					parentId: f.parent_id,
					carBrand: f.car_brand,
					carModel: f.car_model,
					carName: f.car_name,
					carPlateNumber: f.car_plate_number;
					
					String resultStr;					
					
					if(parentId.value != null){
						def parentCase = findCase( {it._id.eq(parentId.value)} )
						def count = parentCase.getFieldValue("count_services")
						
						if(carName.value.isEmpty()){
							resultStr = "Servis č." + (count+1 as Integer) + " - " + carPlateNumber.value
						}
						else{
							resultStr = "Servis č." + (count+1 as Integer) + " - " + carName.value + " - "+ carPlateNumber.value
						}
					}
					else{
						resultStr = useCase.visualId;
					}
					
					changeCaseProperty "title" about {
						resultStr
					}
					
				</action>
			</actions>
			<actions phase="post">
				<action>
					status: f.status,
					start_date: f.start_date;
					
					change start_date value{ java.time.LocalDate.now() }			

					change status value{
						"V očakávaní";
					}
				</action>
			</actions>
		</event>
	</transition>
	<transition>
		<id>10</id>
		<x>420</x>
		<y>100</y>
		<layout>
			<offset>0</offset>
		</layout>
		<label>Zobrazenie informácií</label>
		<dataGroup>
			<id>DataGroup_2</id>
			<dataRef>
				<id>car_taskRef</id>
				<logic>
					<behavior>visible</behavior>
					<action trigger="get">
						taskRef: f.car_taskRef,
						parentId: f.parent_id,
						thisTask: t.10;		

						if(parentId.value == null){
							make taskRef, forbidden on thisTask when{ true }
						}
						else{
							make taskRef, visible on thisTask when{ true }
						}
					</action>
				</logic>
				<layout>
					<x>2</x>
					<y>4</y>
					<rows>1</rows>
					<cols>2</cols>
					<offset>0</offset>
					<template>material</template>
					<appearance>outline</appearance>
				</layout>
			</dataRef>
			<dataRef>
				<id>parent_id</id>
				<logic>
					<behavior>hidden</behavior>
				</logic>
				<layout>
					<x>0</x>
					<y>8</y>
					<rows>1</rows>
					<cols>1</cols>
					<offset>0</offset>
					<template>material</template>
					<appearance>outline</appearance>
				</layout>
			</dataRef>
		</dataGroup>
		<dataGroup>
			<id>DataGroup_1</id>
			<dataRef>
				<id>status_desc</id>
				<logic>
					<behavior>visible</behavior>
				</logic>
				<layout>
					<x>0</x>
					<y>1</y>
					<rows>1</rows>
					<cols>2</cols>
					<offset>0</offset>
					<template>material</template>
					<appearance>outline</appearance>
				</layout>
			</dataRef>
			<dataRef>
				<id>status</id>
				<logic>
					<behavior>visible</behavior>
				</logic>
				<layout>
					<x>0</x>
					<y>0</y>
					<rows>1</rows>
					<cols>2</cols>
					<offset>0</offset>
					<template>material</template>
					<appearance>outline</appearance>
				</layout>
			</dataRef>
			<dataRef>
				<id>act_success</id>
				<logic>
					<behavior>visible</behavior>
				</logic>
				<layout>
					<x>2</x>
					<y>1</y>
					<rows>1</rows>
					<cols>2</cols>
					<offset>0</offset>
					<template>material</template>
					<appearance>outline</appearance>
				</layout>
			</dataRef>
		</dataGroup>
		<dataGroup>
			<id>DataGroup_0</id>
			<dataRef>
				<id>mechanic</id>
				<logic>
					<behavior>visible</behavior>
				</logic>
				<layout>
					<x>2</x>
					<y>0</y>
					<rows>1</rows>
					<cols>2</cols>
					<offset>0</offset>
					<template>material</template>
					<appearance>outline</appearance>
				</layout>
			</dataRef>
			<dataRef>
				<id>task</id>
				<logic>
					<behavior>visible</behavior>
				</logic>
				<layout>
					<x>0</x>
					<y>2</y>
					<rows>2</rows>
					<cols>4</cols>
					<offset>0</offset>
					<template>material</template>
					<appearance>outline</appearance>
				</layout>
			</dataRef>
			<dataRef>
				<id>customer</id>
				<logic>
					<behavior>visible</behavior>
				</logic>
				<layout>
					<x>0</x>
					<y>4</y>
					<rows>1</rows>
					<cols>2</cols>
					<offset>0</offset>
					<template>material</template>
					<appearance>outline</appearance>
				</layout>
			</dataRef>
			<dataRef>
				<id>deadline</id>
				<logic>
					<behavior>visible</behavior>
				</logic>
				<layout>
					<x>0</x>
					<y>9</y>
					<rows>1</rows>
					<cols>4</cols>
					<offset>0</offset>
					<template>material</template>
					<appearance>fill</appearance>
				</layout>
			</dataRef>
			<dataRef>
				<id>start_date</id>
				<logic>
					<behavior>visible</behavior>
				</logic>
				<layout>
					<x>0</x>
					<y>8</y>
					<rows>1</rows>
					<cols>2</cols>
					<offset>0</offset>
					<template>material</template>
					<appearance>outline</appearance>
				</layout>
			</dataRef>
			<dataRef>
				<id>end_date</id>
				<logic>
					<behavior>visible</behavior>
				</logic>
				<layout>
					<x>2</x>
					<y>8</y>
					<rows>1</rows>
					<cols>2</cols>
					<offset>0</offset>
					<template>material</template>
					<appearance>outline</appearance>
				</layout>
			</dataRef>
			<dataRef>
				<id>change_date</id>
				<logic>
					<behavior>visible</behavior>
				</logic>
				<layout>
					<x>2</x>
					<y>8</y>
					<rows>1</rows>
					<cols>2</cols>
					<offset>0</offset>
					<template>material</template>
					<appearance>outline</appearance>
				</layout>
			</dataRef>
		</dataGroup>
	</transition>
	<transition>
		<id>11</id>
		<x>620</x>
		<y>100</y>
		<layout>
			<offset>0</offset>
		</layout>
		<label>Upravenie informácií</label>
		<dataGroup>
			<id>DataGroup_0</id>
			<dataRef>
				<id>mechanic</id>
				<logic>
					<behavior>editable</behavior>
				</logic>
				<layout>
					<x>2</x>
					<y>0</y>
					<rows>1</rows>
					<cols>2</cols>
					<offset>0</offset>
					<template>material</template>
					<appearance>outline</appearance>
				</layout>
			</dataRef>
			<dataRef>
				<id>task</id>
				<logic>
					<behavior>editable</behavior>
				</logic>
				<layout>
					<x>0</x>
					<y>1</y>
					<rows>2</rows>
					<cols>4</cols>
					<offset>0</offset>
					<template>material</template>
					<appearance>outline</appearance>
				</layout>
			</dataRef>
			<dataRef>
				<id>customer</id>
				<logic>
					<behavior>editable</behavior>
				</logic>
				<layout>
					<x>0</x>
					<y>3</y>
					<rows>1</rows>
					<cols>2</cols>
					<offset>0</offset>
					<template>material</template>
					<appearance>outline</appearance>
				</layout>
			</dataRef>
			<dataRef>
				<id>deadline</id>
				<logic>
					<behavior>editable</behavior>
				</logic>
				<layout>
					<x>0</x>
					<y>9</y>
					<rows>1</rows>
					<cols>4</cols>
					<offset>0</offset>
					<template>material</template>
					<appearance>outline</appearance>
				</layout>
			</dataRef>
		</dataGroup>
		<event type="finish">
			<id>11_finish</id>
			<actions phase="post">
				<action>				
					changeDate: f.change_date;
					
					change changeDate value {
						java.time.LocalDate.now()
					}									
				</action>
			</actions>
		</event>
	</transition>
	<transition>
		<id>12</id>
		<x>580</x>
		<y>220</y>
		<layout>
			<offset>0</offset>
		</layout>
		<label>Vymazanie záznamu</label>
		<dataGroup>
			<id>DataGroup_0</id>
			<dataRef>
				<id>text_3</id>
				<logic>
					<behavior>visible</behavior>
				</logic>
				<layout>
					<x>1</x>
					<y>0</y>
					<rows>1</rows>
					<cols>2</cols>
					<offset>0</offset>
					<template>material</template>
					<appearance>fill</appearance>
				</layout>
			</dataRef>
		</dataGroup>
		<event type="finish">
			<id>12_finish</id>
			<actions phase="post">
				<action>				
					def toRemove = findCase( { it._id.eq(useCase._id) } );
			
					if(toRemove != null){
						async.run{
							workflowService.deleteCase(toRemove._id.toString());
						}
					}									
				</action>
			</actions>
		</event>
	</transition>
	<transition>
		<id>13</id>
		<x>780</x>
		<y>340</y>
		<layout>
			<offset>0</offset>
		</layout>
		<label>Obhliadnutie vozidla</label>
		<dataGroup>
			<id>DataGroup_0</id>
			<dataRef>
				<id>status_desc</id>
				<logic>
					<behavior>editable</behavior>
				</logic>
				<layout>
					<x>1</x>
					<y>0</y>
					<rows>1</rows>
					<cols>2</cols>
					<offset>0</offset>
					<template>material</template>
					<appearance>outline</appearance>
				</layout>
			</dataRef>
		</dataGroup>
		<event type="assign">
			<id>13_assign</id>
			<actions phase="pre">
				<action>
					desc: f.status_desc;
					
					change desc value{ "" }
				</action>
			</actions>
		</event>
		<event type="finish">
			<id>13_finish</id>
			<actions phase="post">
				<action>
					status: f.status;					

					change status value{
						"Prebieha obhliadka vozidla";
					}
				</action>
			</actions>
		</event>
	</transition>
	<transition>
		<id>14</id>
		<x>620</x>
		<y>460</y>
		<layout>
			<offset>0</offset>
		</layout>
		<label>Chyby nenájdené</label>
		<dataGroup>
			<id>DataGroup_0</id>
			<dataRef>
				<id>status_desc</id>
				<logic>
					<behavior>editable</behavior>
				</logic>
				<layout>
					<x>1</x>
					<y>0</y>
					<rows>1</rows>
					<cols>2</cols>
					<offset>0</offset>
					<template>material</template>
					<appearance>outline</appearance>
				</layout>
			</dataRef>
		</dataGroup>
		<event type="assign">
			<id>14_assign</id>
			<actions phase="pre">
				<action>
					desc: f.status_desc;
					
					change desc value{ "" }
				</action>
			</actions>
		</event>
		<event type="finish">
			<id>14_finish</id>
			<actions phase="post">
				<action>
					status: f.status;

					change status value {
						"V očakávaní";
					}
				</action>
			</actions>
		</event>
	</transition>
	<transition>
		<id>15</id>
		<x>100</x>
		<y>460</y>
		<layout>
			<offset>0</offset>
		</layout>
		<label>Nevykonanie úkonu</label>
		<dataGroup>
			<id>DataGroup_0</id>
			<dataRef>
				<id>status_desc</id>
				<logic>
					<behavior>editable</behavior>
				</logic>
				<layout>
					<x>1</x>
					<y>0</y>
					<rows>1</rows>
					<cols>2</cols>
					<offset>0</offset>
					<template>material</template>
					<appearance>outline</appearance>
				</layout>
			</dataRef>
		</dataGroup>
		<event type="assign">
			<id>15_assign</id>
			<actions phase="pre">
				<action>
					desc: f.status_desc;
					
					change desc value{ "" }
				</action>
			</actions>
		</event>
		<event type="finish">
			<id>15_finish</id>
			<actions phase="post">
				<action>status: f.status;

change status value{
    "Úkon nevykonaný"
}</action>
			</actions>
		</event>
	</transition>
	<transition>
		<id>16</id>
		<x>780</x>
		<y>580</y>
		<layout>
			<offset>0</offset>
		</layout>
		<label>Chyby nájdené</label>
		<dataGroup>
			<id>DataGroup_0</id>
			<dataRef>
				<id>status_desc</id>
				<logic>
					<behavior>editable</behavior>
				</logic>
				<layout>
					<x>1</x>
					<y>0</y>
					<rows>1</rows>
					<cols>2</cols>
					<offset>0</offset>
					<template>material</template>
					<appearance>outline</appearance>
				</layout>
			</dataRef>
		</dataGroup>
		<event type="assign">
			<id>16_assign</id>
			<actions phase="pre">
				<action>
					desc: f.status_desc;
					
					change desc value{ "" }
				</action>
			</actions>
		</event>
		<event type="finish">
			<id>16_finish</id>
			<actions phase="post">
				<action>status: f.status;

change status value{
    "Pripravené vykonať úkon";
}</action>
			</actions>
		</event>
	</transition>
	<transition>
		<id>19</id>
		<x>620</x>
		<y>700</y>
		<layout>
			<offset>0</offset>
		</layout>
		<label>Začatie úkonu</label>
		<dataGroup>
			<id>DataGroup_0</id>
			<dataRef>
				<id>status_desc</id>
				<logic>
					<behavior>editable</behavior>
				</logic>
				<layout>
					<x>1</x>
					<y>0</y>
					<rows>1</rows>
					<cols>2</cols>
					<offset>0</offset>
					<template>material</template>
					<appearance>outline</appearance>
				</layout>
			</dataRef>
		</dataGroup>
		<event type="assign">
			<id>19_assign</id>
			<actions phase="pre">
				<action>
					desc: f.status_desc;
					
					change desc value{ "" }
				</action>
			</actions>
		</event>
		<event type="finish">
			<id>19_finish</id>
			<actions phase="post">
				<action>
					statuss: f.status;

					change statuss value{
						"Úkon sa vykonáva";
					}
				</action>
			</actions>
		</event>
	</transition>
	<transition>
		<id>20</id>
		<x>100</x>
		<y>700</y>
		<layout>
			<offset>0</offset>
		</layout>
		<label>Dokončenie úkonu</label>
		<dataGroup>
			<id>DataGroup_0</id>
			<dataRef>
				<id>act_success</id>
				<logic>
					<behavior>editable</behavior>
					<behavior>required</behavior>
				</logic>
				<layout>
					<x>1</x>
					<y>0</y>
					<rows>2</rows>
					<cols>2</cols>
					<offset>0</offset>
					<template>material</template>
					<appearance>outline</appearance>
				</layout>
			</dataRef>
			<dataRef>
				<id>status_desc</id>
				<logic>
					<behavior>editable</behavior>
				</logic>
				<layout>
					<x>1</x>
					<y>2</y>
					<rows>1</rows>
					<cols>2</cols>
					<offset>0</offset>
					<template>material</template>
					<appearance>outline</appearance>
				</layout>
			</dataRef>
		</dataGroup>
		<event type="assign">
			<id>20_assign</id>
			<actions phase="pre">
				<action>
					desc: f.status_desc;
					
					change desc value{ null }
				</action>
			</actions>
		</event>
		<event type="finish">
			<id>20_finish</id>
			<actions phase="post">
				<action>
					status: f.status,
					endDate: f.end_date;
					
					change endDate value {
						java.time.LocalDate.now()
					}						

					change status value {
						"Úkon dokončený"
					}
				</action>
			</actions>
		</event>
	</transition>
	<transition>
		<id>47</id>
		<x>420</x>
		<y>540</y>
		<layout>
			<offset>0</offset>
		</layout>
		<label>Znovuotvorenie záznamu</label>
		<dataGroup>
			<id>DataGroup_0</id>
			<dataRef>
				<id>status_desc</id>
				<logic>
					<behavior>editable</behavior>
				</logic>
				<layout>
					<x>1</x>
					<y>0</y>
					<rows>1</rows>
					<cols>2</cols>
					<offset>0</offset>
					<template>material</template>
					<appearance>outline</appearance>
				</layout>
			</dataRef>
		</dataGroup>
		<event type="assign">
			<id>47_assign</id>
			<actions phase="pre">
				<action>
					desc: f.status_desc;
					
					change desc value { null }
				</action>
			</actions>
		</event>
		<event type="finish">
			<id>47_finish</id>
			<actions phase="post">
				<action>
					status: f.status,
					stateList: f.act_success;

					change stateList value { null }
			
					change status value{
						"V očakávaní"
					}
				</action>
			</actions>
		</event>
	</transition>
	<transition>
		<id>72</id>
		<x>218</x>
		<y>94</y>
		<layout>
			<offset>0</offset>
		</layout>
		<label>Zobrazenie informácií o aute</label>
		<dataGroup>
			<id>DataGroup_0</id>
			<dataRef>
				<id>car_vin</id>
				<logic>
					<behavior>visible</behavior>
				</logic>
				<layout>
					<x>0</x>
					<y>1</y>
					<rows>1</rows>
					<cols>1</cols>
					<offset>0</offset>
					<template>material</template>
					<appearance>outline</appearance>
				</layout>
			</dataRef>
			<dataRef>
				<id>car_brand</id>
				<logic>
					<behavior>visible</behavior>
				</logic>
				<layout>
					<x>0</x>
					<y>0</y>
					<rows>1</rows>
					<cols>1</cols>
					<offset>0</offset>
					<template>material</template>
					<appearance>outline</appearance>
				</layout>
			</dataRef>
			<dataRef>
				<id>car_name</id>
				<logic>
					<behavior>visible</behavior>
				</logic>
				<layout>
					<x>2</x>
					<y>0</y>
					<rows>1</rows>
					<cols>1</cols>
					<offset>0</offset>
					<template>material</template>
					<appearance>outline</appearance>
				</layout>
			</dataRef>
			<dataRef>
				<id>car_model</id>
				<logic>
					<behavior>visible</behavior>
				</logic>
				<layout>
					<x>1</x>
					<y>0</y>
					<rows>1</rows>
					<cols>1</cols>
					<offset>0</offset>
					<template>material</template>
					<appearance>outline</appearance>
				</layout>
			</dataRef>
			<dataRef>
				<id>car_plate_number</id>
				<logic>
					<behavior>visible</behavior>
				</logic>
				<layout>
					<x>1</x>
					<y>1</y>
					<rows>1</rows>
					<cols>1</cols>
					<offset>0</offset>
					<template>material</template>
					<appearance>outline</appearance>
				</layout>
			</dataRef>
		</dataGroup>
		<event type="assign">
			<id>47_assign</id>
			<actions phase="pre">
				<action>
					desc: f.status_desc;
					
					change desc value { null }
				</action>
			</actions>
		</event>
	</transition>
	<!-- PLACES -->
	<place>
		<id>1</id>
		<x>300</x>
		<y>340</y>
		<label>init</label>
		<tokens>1</tokens>
		<static>false</static>
	</place>
	<place>
		<id>2</id>
		<x>620</x>
		<y>340</y>
		<label>v ocakavani</label>
		<tokens>0</tokens>
		<static>false</static>
	</place>
	<place>
		<id>3</id>
		<x>420</x>
		<y>220</y>
		<label>Záznam existuje</label>
		<tokens>0</tokens>
		<static>false</static>
	</place>
	<place>
		<id>4</id>
		<x>780</x>
		<y>460</y>
		<label>Obhliadka prebieha</label>
		<tokens>0</tokens>
		<static>false</static>
	</place>
	<place>
		<id>6</id>
		<x>780</x>
		<y>700</y>
		<label>Pripravené vykonať úkon</label>
		<tokens>0</tokens>
		<static>false</static>
	</place>
	<place>
		<id>7</id>
		<x>460</x>
		<y>700</y>
		<label>Úkon sa vykonáva</label>
		<tokens>0</tokens>
		<static>false</static>
	</place>
	<place>
		<id>44</id>
		<x>100</x>
		<y>580</y>
		<label>Spracovanie záznamu dokončené</label>
		<tokens>0</tokens>
		<static>false</static>
	</place>
	<!-- ARCS -->
	<arc>
		<id>21</id>
		<type>regular</type>
		<sourceId>1</sourceId>
		<destinationId>9</destinationId>
		<multiplicity>1</multiplicity>
	</arc>
	<arc>
		<id>22</id>
		<type>regular</type>
		<sourceId>9</sourceId>
		<destinationId>3</destinationId>
		<multiplicity>1</multiplicity>
	</arc>
	<arc>
		<id>23</id>
		<type>regular</type>
		<sourceId>9</sourceId>
		<destinationId>2</destinationId>
		<multiplicity>1</multiplicity>
	</arc>
	<arc>
		<id>24</id>
		<type>regular</type>
		<sourceId>2</sourceId>
		<destinationId>13</destinationId>
		<multiplicity>1</multiplicity>
	</arc>
	<arc>
		<id>25</id>
		<type>regular</type>
		<sourceId>13</sourceId>
		<destinationId>4</destinationId>
		<multiplicity>1</multiplicity>
	</arc>
	<arc>
		<id>26</id>
		<type>regular</type>
		<sourceId>4</sourceId>
		<destinationId>14</destinationId>
		<multiplicity>1</multiplicity>
	</arc>
	<arc>
		<id>27</id>
		<type>regular</type>
		<sourceId>14</sourceId>
		<destinationId>2</destinationId>
		<multiplicity>1</multiplicity>
	</arc>
	<arc>
		<id>32</id>
		<type>regular</type>
		<sourceId>4</sourceId>
		<destinationId>16</destinationId>
		<multiplicity>1</multiplicity>
	</arc>
	<arc>
		<id>33</id>
		<type>regular</type>
		<sourceId>16</sourceId>
		<destinationId>6</destinationId>
		<multiplicity>1</multiplicity>
	</arc>
	<arc>
		<id>35</id>
		<type>regular</type>
		<sourceId>19</sourceId>
		<destinationId>7</destinationId>
		<multiplicity>1</multiplicity>
	</arc>
	<arc>
		<id>36</id>
		<type>regular</type>
		<sourceId>7</sourceId>
		<destinationId>20</destinationId>
		<multiplicity>1</multiplicity>
	</arc>
	<arc>
		<id>38</id>
		<type>regular</type>
		<sourceId>2</sourceId>
		<destinationId>15</destinationId>
		<multiplicity>1</multiplicity>
	</arc>
	<arc>
		<id>40</id>
		<type>read</type>
		<sourceId>3</sourceId>
		<destinationId>10</destinationId>
		<multiplicity>1</multiplicity>
	</arc>
	<arc>
		<id>41</id>
		<type>read</type>
		<sourceId>3</sourceId>
		<destinationId>11</destinationId>
		<multiplicity>1</multiplicity>
	</arc>
	<arc>
		<id>43</id>
		<type>regular</type>
		<sourceId>3</sourceId>
		<destinationId>12</destinationId>
		<multiplicity>1</multiplicity>
	</arc>
	<arc>
		<id>45</id>
		<type>regular</type>
		<sourceId>20</sourceId>
		<destinationId>44</destinationId>
		<multiplicity>1</multiplicity>
	</arc>
	<arc>
		<id>46</id>
		<type>regular</type>
		<sourceId>15</sourceId>
		<destinationId>44</destinationId>
		<multiplicity>1</multiplicity>
	</arc>
	<arc>
		<id>49</id>
		<type>regular</type>
		<sourceId>47</sourceId>
		<destinationId>2</destinationId>
		<multiplicity>1</multiplicity>
	</arc>
	<arc>
		<id>50</id>
		<type>regular</type>
		<sourceId>44</sourceId>
		<destinationId>47</destinationId>
		<multiplicity>1</multiplicity>
	</arc>
	<arc>
		<id>71</id>
		<type>regular</type>
		<sourceId>6</sourceId>
		<destinationId>19</destinationId>
		<multiplicity>1</multiplicity>
	</arc>
</document>
